// Generated by CoffeeScript 1.10.0
(function() {
  var DELETE, GET, POST, PUT, Permission, _isInt, _translateMethod, methods;

  GET = 1;

  POST = 2;

  PUT = 4;

  DELETE = 8;

  methods = {
    GET: GET,
    POST: POST,
    PUT: PUT,
    DELETE: DELETE
  };

  _isInt = function(value) {
    var x;
    if (isNaN(value)) {
      return false;
    } else {
      x = parseFloat(value);
      return (0 | x) === x;
    }
  };

  _translateMethod = function(method) {
    if (!method) {
      return 0;
    } else if (!_isInt(method)) {
      return methods[method.toUpperCase()] || 0;
    } else {
      return method;
    }
  };

  Permission = function(route, levels) {
    var levelSum;
    levelSum = levels.reduce((function(a, b) {
      return a + (_translateMethod(b));
    }), 0);
    return [route, levelSum];
  };

  Permission.methodToLevel = _translateMethod;

  Permission.hasAccess = function(permission, method) {
    return ((_translateMethod(method)) & permission[1]) > 0;
  };

  Permission.GET = GET;

  Permission.POST = POST;

  Permission.PUT = PUT;

  Permission.DELETE = DELETE;

  module.exports = Permission;

}).call(this);
